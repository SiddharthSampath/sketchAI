<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>SketchAI</title>

    {% load static %}
    <link rel="stylesheet" href="{% static 'drawapp/css/styles.css' %}">
    <script type="text/javascript" src="{% static 'drawapp/js/canvas.js' %}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src='https://code.jquery.com/jquery-1.11.0.min.js'></script>
    <!-- using different icons for cursor -->
    <script src="https://cdn.rawgit.com/jwarby/jquery-awesome-cursor/master/dist/jquery.awesome-cursor.min.js"></script>


    <!-- erase and draw buttons, with cursor change on clicking the respective buttons -->

    <script type="text/javascript">
      $(document).ready(function() {
      $('body').css('cursor', 'pointer');
      var canvas = document.getElementById("imageView");
      var context = canvas.getContext("2d");
      $("#eraser").click(function() {
		    context.strokeStyle = "#FFFFFF";
        $('body').css('cursor', 'grabbing');
        context.lineWidth = 3;
	     });
       $("#draw").click(function() {
 		    context.strokeStyle = "#000";
        context.lineWidth = 1;
        $('body').css('cursor', 'pointer');



 	     });
     });
    </script>

  </head>
  <body>
    {% include 'drawapp/includes/navbar.html' %}
    <div id="container"><canvas id="imageView" width="980" height="480"><p>Unfortunately, your browser is currently unsupported by our web application. We are sorry for the inconvenience. Please use one of the supported browsers listed below, or draw the image you want using an offline tool.</p><p>Supported browsers: <a href="http://www.opera.com">Opera</a>, <a href="http://www.mozilla.com">Firefox</a>, <a href="http://www.apple.com/safari">Safari</a>, and <a href="http://www.konqueror.org">Konqueror</a>.</p></canvas>
    </div>
    <a id="downloadLnk" download="test.jpg"></a>


    <button type="button" class="btn" id="clear" value ="clear" onclick="window.location.reload()"> clear</button>
    <button type="button" id="eraser" class="btn" name="button">Erase</button>
    <button type="button" id="draw" class="btn" name="button">Draw</button>

  <!-- download functionality -->
  <script type="text/javascript">
    var canvas = document.querySelector( 'canvas' )
    var link = document.createElement('a');
        link.innerHTML = 'download image';
        link.classList.add("btn")
        link.setAttribute("id", "downloadbtn")
        link.addEventListener('click', function(ev) {
        link.href = canvas.toDataURL();
        link.download = "mypainting.png";
    }, false);
    document.body.appendChild(link);


  </script>
  </body>

</html>
